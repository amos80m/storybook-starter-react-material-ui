import React, {useState} from 'react';
import { Marker, Popup } from 'react-leaflet';

import L from 'leaflet';

const CoustomMarker = ({ data }) => {

  const [sampleData, setFleetMove] = useState(null);

  React.useEffect(() => {
    if(data[0]){
      setFleetMove(data[0])
      if(sampleData){
        console.log('sampleData',sampleData.position.lat)
      }
    }
  });

    const getIcon = type => {
      return type === 'daboor' ?
      'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDIwMDEwOTA0Ly9FTiIKICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4wIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiB3aWR0aD0iMTI4MC4wMDAwMDBwdCIgaGVpZ2h0PSI2NzYuMDAwMDAwcHQiIHZpZXdCb3g9IjAgMCAxMjgwLjAwMDAwMCA2NzYuMDAwMDAwIgogcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQgbWVldCI+CjxtZXRhZGF0YT4KQ3JlYXRlZCBieSBwb3RyYWNlIDEuMTUsIHdyaXR0ZW4gYnkgUGV0ZXIgU2VsaW5nZXIgMjAwMS0yMDE3CjwvbWV0YWRhdGE+CjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLDY3Ni4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMCkiCmZpbGw9IiMwMDAwMDAiIHN0cm9rZT0ibm9uZSI+CjxwYXRoIGQ9Ik01NTAwIDY2MjcgYzAgLTc0IC0zIC0yNTYgLTcgLTQwNiBsLTYgLTI3MiAtMjkgLTYgYy0yNiAtNSAtMjggLTkKLTI4IC01MiAwIC0zOCA0IC00OCAyMyAtNTYgMTkgLTggMjIgLTE5IDI1IC02OCBsMyAtNTkgLTU5IDMgYy01OCA0IC0xMTIgLTE2Ci0xMTIgLTQyIDAgLTYgMjcgLTIyIDYxIC0zNyA1OCAtMjUgNjAgLTI3IDU1IC01NSAtMyAtMTYgLTYgLTQ0IC02IC02MiBsMAotMzMgLTY1IC03IC02NSAtNyAwIC0zOCAwIC0zOCAtNDIgNSBjLTEyMyAxMiAtMjI5IDE4IC0yMzMgMTQgLTEzIC0xMiAtNCAtNjAKMTMgLTY1IDkgLTIgNTEgLTE0IDkyIC0yNiA0MSAtMTIgNzggLTI1IDgyIC0yOSA0IC0zIDE2IC01MSAyNiAtMTA1IDI5IC0xNDcKNiAtMjAzIC04NSAtMjA5IC0yNiAtMiAtMjcgMCAtMzkgNzYgLTcgNDMgLTE0IDgwIC0xNiA4MiAtMiAxIC00NiA4IC05OCAxNAotODkgMTAgLTk4IDkgLTE0NyAtMTEgLTU4IC0yNCAtNDkgLTUgLTg2IC0xODggbC0xMyAtNjUgLTQ2MSAtMyAtNDYxIC0yIC02Ci0zMSBjLTMgLTE3IC02IC00MiAtNiAtNTQgMCAtMjYgLTQxIC0yMSA1MDUgLTYxIDIwOSAtMTUgMzg0IC0zMCAzODggLTM0IDcKLTYgLTE3IC0xMzAgLTEzMCAtNjY1IC0xOSAtOTMgLTM3IC0xNzIgLTM5IC0xNzQgLTQgLTQgLTM2NCAxNyAtNDExIDI1IC0yNCA0Ci0zMyAxMCAtMzMgMjQgMCAxMSAtNiAyMCAtMTQgMjAgLTcgMCAtMjE4IDEzIC00NjcgMjkgLTExNDggNzUgLTEyOTEgODMKLTEyOTkgNzUgLTQgLTUgLTEwIC0xOCAtMTQgLTI5IC01IC0xOCA3IC0yNSAxMDAgLTU5IDkzIC0zNSAxMDUgLTQyIDEwMCAtNjAKLTIgLTEyIC00MyAtMjAxIC05MSAtNDIxIC00NyAtMjIwIC05MCAtNDA5IC05NCAtNDIxIC04IC0xOCAtMjEgLTIyIC05MyAtMjgKLTQ1IC00IC0xMDcgLTkgLTEzNiAtMTMgbC01MyAtNiAzIC00NiAzIC00NiAxNDQgLTMzIGM4MCAtMTggMTQ2IC0zMyAxNDcgLTM1CjIgLTIgLTU3IC0yMjkgLTYxIC0yMzQgLTEgLTIgLTgzIC0xMyAtMTgyIC0yNSBsLTE4MiAtMjIgLTExIC04NiBjLTE1IC0xMTIKLTE4IC0xMjAgLTQwIC0xMjAgLTIwIDAgLTI5IDI0IC02MyAxNjAgbC0xMyA1NSAtNTAgOSBjLTI3IDQgLTU0IDEwIC02MCAxMQotNiAyIC0xNyAzMyAtMjUgNzAgbC0xMyA2NiAtNTAgLTMgLTUxIC0zIC0xNCAtNzIgLTE1IC03MiAtNTEgLTYgLTUwIC03IC00MAotMTIzIC0zOSAtMTI0IC00NiAtNSBjLTI1IC0zIC0xMDMgLTExIC0xNzUgLTE2IC03MSAtNiAtMTQ4IC0xMyAtMTcxIC0xNgpsLTQxIC01IDIzIC0xMzYgYzE4IC0xMDUgMjEgLTE0NiAxNCAtMTc3IC01IC0yMyAtMjMgLTE0MCAtNDAgLTI2MSAtMTYgLTEyMQotMzIgLTIzNSAtMzUgLTI1MyBsLTYgLTMyIC00MTkgMCBjLTIzMSAwIC00MjAgLTIgLTQyMCAtNSAwIC0xNSAxMzQgLTU0MSAxMzkKLTU0NyAxMiAtMTQgMjY1IC02NSAzNTEgLTcyIDQ3IC00IDI2OSAtMjIgNDk1IC00MiA3OTcgLTY3IDEyNzggLTEwOCAyNDgwCi0yMDkgMjMxIC0xOSA1ODAgLTQ5IDc3NSAtNjUgMTA2NSAtOTAgMTA4NSAtOTIgMjMwOCAtMTk1IDkwNSAtNzcgMTAxNyAtODUKMTI5NyAtMTAwIDk2NSAtNTEgMjYxNiAtMTM4IDI5MzkgLTE1NSAyMDggLTEyIDM3OSAtMjAgMzgxIC0xOCAxIDIgNDQgNzMgOTUKMTU4IDE1MyAyNTIgNTIxIDcxNCA5MjEgMTE1NSAyODkgMzE4IDYyOSA3MjAgNjE4IDcyOCAtNCAzIC04NjYgLTQgLTE5NTQgLTE3Ci0yNzUgLTMgLTU5NSAtOSAtNzExIC0xMiBsLTIxMSAtNyAtMTUgNDQgLTE1IDQ0IC04MCAzIC04MSAzIC0yNiA2MiBjLTExNgoyNzcgLTEzNCAzMjcgLTEyMyAzMzUgNyA2IDE2NyAyMCAzNTcgMzIgMjQ0IDE2IDM0OSAyNiAzNTkgMzUgOSA5IDExIDI0IDcgNDkKbC03IDM2IC04MiAtNSBjLTExMiAtNyAtNTYyIC0yNSAtNjM2IC0yNSAtNTggMCAtNjAgMSAtNzggMzcgLTE1IDMxIC0zMSA0MgotMTA4IDc1IGwtOTAgMzkgLTI1MCAtNiBjLTEzNyAtMyAtMjY1IC04IC0yODIgLTExIC0zMSAtNSAtMzMgLTcgLTMzIC00NyAwCi0yMyAtMyAtNTMgLTcgLTY2IGwtNiAtMjQgLTIxMSA3IGMtMTE2IDMgLTMwMiA5IC00MTMgMTIgbC0yMDIgNyAtMTQ2IDI2MwpjLTgwIDE0NSAtMTQ1IDI2OSAtMTQ1IDI3NSAwIDYgMTYgNjMgMzYgMTI1IDMyIDk3IDQwIDExNCA1OCAxMTQgNTEgMSA0OCAxNgotMTEgNjggLTU0IDQ2IC02NSA1MSAtMTQzIDY2IC00NyA4IC0yNzIgMjcgLTUwMCA0MSAtMjI4IDE0IC00MzQgMjggLTQ1NiAzMQpsLTQyIDUgMzYgMTM3IDM1IDEzNyAtMTI5IDUxMSAtMTI5IDUxMSAtMTgwIDIzIGMtMjUyIDMxIC0yMzIgMjIgLTI2OCAxMDkKbC0zMSA3MyAyNiA0NyBjMjMgNDEgMjQgNDggMTIgNjcgLTE0IDIxIC0xMyAyMiA1OCAzOSA0MCAxMCA3NiAyMCA3OSAyNCAxNQoxNCAtNCA2NyAtMzEgODYgLTI2IDE5IC0zNyAyMCAtMTg5IDEyIC0xMTYgLTYgLTE2NiAtNSAtMTc2IDMgLTE1IDEyIC00OSAxODQKLTQxIDIwNiAzIDkgMjAgMTQgNDYgMTQgMzUgMCA0MCAzIDQwIDI0IDAgMjUgLTIxIDM2IC03NSAzNiAtNzAgMSAtOTkgMzAgLTU2CjU3IDIyIDE0IDMzIDgzIDI0IDE0OCAtNSAzOSAtOSA0NSAtMjkgNDUgbC0yNCAwIDAgMzkzIGMwIDM2OSAtMSAzOTUgLTE4IDQxMAotMTAgMTAgLTIyIDE3IC0yNSAxNyAtNCAwIC03IC02MCAtNyAtMTMzeiBtLTE4MzUgLTI4MzYgbDE1MCAtMjcgLTIgLTQwIGMtOQotMTQyIC00NCAtNjE5IC00OSAtNjY0IC03IC01NSAtNyAtNTMgLTU0IDE0NSAtNDEgMTczIC01OSAyMjcgLTEzNCA0MDIgLTQ3CjExMiAtODYgMjA1IC04NiAyMDggMCA4IDE1IDYgMTc1IC0yNHogbTg0NSAtNTAgYzAgLTU1IC0yOCAtMTMxIC03MiAtMTk1IC0yNgotMzggLTQ2IC03MiAtNDMgLTc2IDIgLTQgMzggLTE3IDc5IC0yOSA1NCAtMTYgNzcgLTI4IDgxIC00MiA0IC0xMSAtNyAtNjEKLTI1IC0xMTMgbC0zMSAtOTQgLTUyIC02IGMtMjkgLTMgLTc5IC04IC0xMTMgLTEyIGwtNjEgLTYgLTc0IC0xNDkgYy03MSAtMTQ0Ci03NSAtMTQ5IC0xMDkgLTE1NSAtMTkgLTMgLTQzIC04IC01MiAtMTAgLTIxIC02IC0yMCAtNyAtNTMgNDUxIC0xNCAxOTMgLTI3CjM3NCAtMzEgNDAzIGwtNSA1MiAyODAgMCBjMjcxIDAgMjgxIC0xIDI4MSAtMTl6Ii8+CjwvZz4KPC9zdmc+Cg==' : 
     'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNDAgNTAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDQwIDQwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMy43MTIsMjMuMTc1YzAuMDY0LDIuNDk2LDIuNjU5LDUuNzQyLDEwLjE5LDUuNzQyYzAsMCwxNC43NDgsMCwxNi42MzgsMGMxLjg4OCwwLDUuNzUxLTAuNTcyLDUuNzUxLTQuNTk3SDEyLjQxOHYtMS44NCAgYzAsMCwwLTAuOTI4LTAuNzUyLTAuOTI4Yy0xLjY0MSwwLTUuNDczLDAtNi40NzcsMEMzLjkwMywyMS41NTMsMy42NzcsMjEuODI4LDMuNzEyLDIzLjE3NXoiLz48cGF0aCBkPSJNMzMuNzQ1LDExLjU2OGMtMC4wMzYtMC4yNjctMC4yODUtMC40ODUtMC41NTYtMC40ODVoLTAuNzM1Yy0wLjI3LDAtMC41MiwwLjIxOS0wLjU1NSwwLjQ4NWwtMC41OTksNC40OTloLTAuNjYxICBMMzAuMDkzLDEzLjJjLTAuMDQ5LTAuMjY3LTAuMzEyLTAuNDgzLTAuNTgtMC40ODNoLTAuNzM3Yy0wLjI2OSwwLTAuNTMxLDAuMjE3LTAuNTgxLDAuNDgzbC0wLjU0NCwyLjg2N2MwLDAtMC41NTIsMC0xLjg0MSwwICBjLTEuMjg3LDAtMS4xOTQsMS4zNTctMS4xOTQsMS4zNTd2NS43NWgxMS42NzVMMzMuNzQ1LDExLjU2OHoiLz48cGF0aCBkPSJNMjMuNDcxLDIzLjMzOWMwLDAuMjcxLTAuMjIsMC40OS0wLjQ5MiwwLjQ5aC05LjU3MWMtMC4yNywwLTAuNDktMC4yMi0wLjQ5LTAuNDl2LTMuNDMyYzAtMC4yNzEsMC4yMi0wLjQ5LDAuNDktMC40OWg5LjU3MSAgYzAuMjcyLDAsMC40OTIsMC4yMiwwLjQ5MiwwLjQ5VjIzLjMzOXoiLz48cGF0aCBkPSJNMjMuNDcxLDE4LjQ5MWMwLDAuMjcxLTAuMjIsMC40OTItMC40OTIsMC40OTJoLTkuNTcxYy0wLjI3LDAtMC40OS0wLjIyMS0wLjQ5LTAuNDkyVjE1LjA2YzAtMC4yNywwLjIyLTAuNDksMC40OS0wLjQ5ICBoOS41NzFjMC4yNzIsMCwwLjQ5MiwwLjIyMSwwLjQ5MiwwLjQ5VjE4LjQ5MXoiLz48cGF0aCBkPSJNMTIuNDE4LDIwLjU2MmMwLDAuMjctMC4yMiwwLjQ5LTAuNDg5LDAuNDlINS4zMzNjLTAuMjcsMC0wLjQ5MS0wLjIyMS0wLjQ5MS0wLjQ5di00LjI4OWMwLTAuMjcxLDAuMjIxLTAuNDkxLDAuNDkxLTAuNDkxICBoNi41OTZjMC4yNywwLDAuNDg5LDAuMjIsMC40ODksMC40OTFWMjAuNTYyeiIvPjx0ZXh0IHg9IjAiIHk9IjU1IiBmaWxsPSIjMDAwMDAwIiBmb250LXNpemU9IjVweCIgZm9udC13ZWlnaHQ9ImJvbGQiIGZvbnQtZmFtaWx5PSInSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsIEFyaWFsLVVuaWNvZGUsIEFyaWFsLCBTYW5zLXNlcmlmIj5DcmVhdGVkIGJ5IE1pbmggRG88L3RleHQ+PHRleHQgeD0iMCIgeT0iNjAiIGZpbGw9IiMwMDAwMDAiIGZvbnQtc2l6ZT0iNXB4IiBmb250LXdlaWdodD0iYm9sZCIgZm9udC1mYW1pbHk9IidIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwtVW5pY29kZSwgQXJpYWwsIFNhbnMtc2VyaWYiPmZyb20gdGhlIE5vdW4gUHJvamVjdDwvdGV4dD48L3N2Zz4='
    }
     const SheepIcon = (type) => {
       return new L.Icon({
        iconUrl: getIcon(type),
        iconAnchor: [120, 63],
        popupAnchor: [-60, -63],
        shadowUrl: null,
        shadowSize: null,
        shadowAnchor: null,
        iconSize: new L.Point(120, 63),
        className: 'leaflet-div-icon'
    });
  }
// return null
    return sampleData && <Marker icon={SheepIcon(sampleData.type)} position={sampleData.position} draggable={sampleData.draggable}>
        <Popup>{sampleData.popup}</Popup>
      </Marker>;
}



export default CoustomMarker;